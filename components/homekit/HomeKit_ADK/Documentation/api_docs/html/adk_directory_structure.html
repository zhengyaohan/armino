

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ADK Directory Structure &mdash; HomeKit ADK  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Docker with ADK" href="docker.html" />
    <link rel="prev" title="ADK Architecture" href="adk_architecture.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> HomeKit ADK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="adk_architecture.html">ADK Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ADK Directory Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#applications">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hap">HAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pal">PAL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker with ADK</a></li>
</ul>
<p class="caption"><span class="caption-text">Step-by-step Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started with ADK</a></li>
<li class="toctree-l1"><a class="reference internal" href="raspi_setup.html">Raspberry Pi Setup Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="bct.html">Bonjour Conformance Test (BCT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="wac_on_raspberrypi.html">WAC on Raspberry Pi</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera_on_darwin.html">Camera on macOS</a></li>
</ul>
<p class="caption"><span class="caption-text">Troubleshooting ADK</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="interact_with_applications.html">Interacting with ADK applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting ADK</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing_unit_tests.html">Writing Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug_adk.html">Debugging ADK Applications</a></li>
</ul>
<p class="caption"><span class="caption-text">ADK Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="accessory_development.html">Accessory Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessory_pairing.html">Accessory Pairing</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessory_authentication.html">Accessory Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="provisioning_tools.html">Provisioning Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADK_Memory_Usage_and_Requirements.html">Memory Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="crypto.html">Cryptographic Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="make_options.html">Compile Time Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding_convention.html">Coding Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration_guide.html">ADK Migration Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">HomeKit Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="accessory_diagnostics.html">Accessory Diagnostics Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessory_metrics.html">Accessory Metrics Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="adaptive_light.html">Adaptive Lighting Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="appletv_remote.html">Apple TV Remote</a></li>
<li class="toctree-l1"><a class="reference internal" href="firmware_update.html">Firmware Update Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="homekit_bridge.html">HomeKit Bridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="ip_camera.html">IP Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="lock_profile.html">Lock Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="stateless_programmable_switch.html">Stateless Programmable Switch</a></li>
<li class="toctree-l1"><a class="reference internal" href="thread.html">HAP over Thread Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="wifi_reconfiguration_feature.html">WiFi Reconfiguration Service</a></li>
</ul>
<p class="caption"><span class="caption-text">PAL APIs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="_api_docs/dir_PAL.html">Directory PAL</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HomeKit ADK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ADK Directory Structure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/adk_directory_structure.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="adk-directory-structure">
<h1>ADK Directory Structure<a class="headerlink" href="#adk-directory-structure" title="Permalink to this headline">¶</a></h1>
<p>The previous section explained how the software of a HomeKit accessory works at runtime. Key elements of this software,
in particular the HAP Library, are provided by Apple in the ADK, or are redistributed by chipset vendors in their
HomeKit compatible SDKs.</p>
<div class="section" id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Permalink to this headline">¶</a></h2>
<p>The Applications subdirectory contains source code of typical accessories. A sample application is comprised of several
components:</p>
<ul class="simple">
<li><p><em>Applications/SampleApp</em> - Collection of source files that defines the accessory.</p></li>
<li><p><em>Applications/Main.c</em> - Common application entry point, contains main().</p></li>
<li><p><em>Applications/Common/DB</em> -  Collection of source files defining HAP services and characteristics such that these
services/characteristics can be used across different applications.</p></li>
<li><p><em>Applications/Common/Helper</em> - Collection of source files that implement default handlers for HAP services as well
as any code that can be shared across different applications.</p></li>
<li><p><em>Applications/Common/Platform</em> - Application specific logic that is platform dependent but not generic enough
warranting a fully developed PAL API.</p></li>
</ul>
</div>
<div class="section" id="hap">
<h2>HAP<a class="headerlink" href="#hap" title="Permalink to this headline">¶</a></h2>
<p>The HAP implementation is provided in the HAP subdirectory. It is not expected for vendors to have to change HAP API or
its implementation in this subdirectory.</p>
</div>
<div class="section" id="pal">
<h2>PAL<a class="headerlink" href="#pal" title="Permalink to this headline">¶</a></h2>
<p>The Platform Abstraction Layer implementation is provided in the PAL subdirectory.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">HAPPlatform.h</span></code> file is an umbrella header file for the header files of the individual PAL module APIs, namely
<code class="docutils literal notranslate"><span class="pre">HAPPlatform&lt;Module_Name&gt;.h</span></code>. A PAL developer must provide implementations for all <code class="docutils literal notranslate"><span class="pre">HAPPlatform&lt;Module_Name&gt;.h</span></code> files.
The other header files are helpers that need not be modified:</p>
<ul class="simple">
<li><p><em>HAPAssert.h</em> that the HAP Library uses for checking assertions, e.g., through precondition checks.</p></li>
<li><p><em>HAPBase.h</em> defines common base types needed in different PAL modules and in HAP.h.</p></li>
<li><p><em>HAPBase+CompilerAbstraction.h</em> makes it possible to support a variety of compilers.</p></li>
<li><p><em>HAPLog.h</em> defines the logging levels supported by the ADK for the HAP Library.</p></li>
</ul>
<p>A header file may contain dependencies to one or several lower layer header files, but not vice versa. For example,
<code class="docutils literal notranslate"><span class="pre">HAPPlatform.h</span></code> includes <code class="docutils literal notranslate"><span class="pre">HAPPlatformTimer.h</span></code>, <code class="docutils literal notranslate"><span class="pre">HAPPlatformRunLoop.h</span></code>, <code class="docutils literal notranslate"><span class="pre">HAPPlatformAbort.h</span></code>, etc., but
<code class="docutils literal notranslate"><span class="pre">HAPPlatformAbort.h</span></code> must not include e.g. <code class="docutils literal notranslate"><span class="pre">HAPAssert.h</span></code>:</p>
<ul class="simple">
<li><p><em>HAPPlatform.h</em></p></li>
<li><p><em>HAPPlatform&lt;Module_Name&gt;.h</em></p></li>
<li><p><em>HAPBase.h</em></p></li>
<li><p><em>HAPAssert.h</em></p></li>
<li><p><em>HAPLog.h</em></p></li>
<li><p><em>HAPPlatformAbort.h</em></p></li>
<li><p><em>HAPBase+CompilerAbstraction.h</em></p></li>
</ul>
<p>The files to be implemented are listed above in bold. More information about each of them is provided in the
<a class="reference internal" href="_api_docs/dir_PAL.html"><span class="doc">PAL Modules</span></a>. A platform developer should include <code class="docutils literal notranslate"><span class="pre">HAPPlatform.h</span></code> in order to include
all header file dependencies.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="docker.html" class="btn btn-neutral float-right" title="Docker with ADK" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="adk_architecture.html" class="btn btn-neutral float-left" title="ADK Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright © 2021 Apple Inc. All Rights Reserved..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>