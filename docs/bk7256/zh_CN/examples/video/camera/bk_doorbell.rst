DOORBELL 可视门铃 demo
========================

:link_to_translation:`en:[English]`

1 功能概述
-------------------------------------
门铃的主要功能是联合多个模块，实时的进行图像采集，屏幕显示，声音的采集和通信。

2 代码路径
-------------------------------------
demo路径：``./components/media/``

3 cli命令简介
-------------------------------------
demo支持的命令如下表：

+----------------------------------------+--------------------------------+---------------------------------------+
|             Command                    |            Param               |              Description              |
+========================================+================================+=======================================+
|                                        | param1:softap的ssid            | 启动一个softap，并设置名字和密码      |
| ap param1 param2                       +--------------------------------+---------------------------------------+
|                                        | param2:softap的key             | 设置softap连接密码                    |
|----------------------------------------+--------------------------------+---------------------------------------+
|                                        | param1:station的ssid           | 连接一个station，设置连接的名字和密码 |
| sta param1 param2                      +--------------------------------+---------------------------------------+
|                                        | param2:station的key            | 设置station连接密码                   |
+----------------------------------------+--------------------------------+---------------------------------------+
|                                        | param1:3                       | 表示打开doorbell功能                  |
| doorbell param1 [param2]               +--------------------------------+---------------------------------------+
|                                        | param2:是否打开UVC,可选        | 设置打开sensor的类型                  |
|----------------------------------------+--------------------------------+---------------------------------------+
| media dvp open [param]                 | param:sensor的分辨率,可选      | 设置sensor输出分辨率，并打开dvp sensor|
|----------------------------------------+--------------------------------+---------------------------------------+
| media dvp close                        | NULL                           | 关闭dvp sensor                        |
|----------------------------------------+--------------------------------+---------------------------------------+
| media lcd open [param]                 | param1:显示分辨率,可选         | 显示的屏幕分辨率，默认480X272         |
+----------------------------------------+--------------------------------+---------------------------------------+
| media lcd close                        | NULL                           | 关闭LCD功能，包括JPEG decode          |
|----------------------------------------+--------------------------------+---------------------------------------+
| media capture param                    | param:xxx.jpg                  | 拍照，并存到SD卡中，设置图像的名字    |
|----------------------------------------+--------------------------------+---------------------------------------+
| media uvc open [param]                 | param:sensor的分辨率,可选      | 设置sensor输出分辨率，并打开uvc sensor|
|----------------------------------------+--------------------------------+---------------------------------------+
| media uvc close                        | NULL                           | 关闭uvc sensor                        |
+----------------------------------------+--------------------------------+---------------------------------------+

demo运行依赖的宏配置：

+--------------------------------------+------------------------+--------------------------------------------+---------+
|                 NAME                 |      Description       |                  File                      |  value  |
+======================================+========================+============================================+=========+
|CONFIG_DOORBELL                       |配置是否支持DOORBELL    |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+
|CONFIG_JPEG_ENCODE                    |配置是否支持硬件编码    |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+
|CONFIG_CAMERA                         |配置是否使用dvp camera  |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+
|CONFIG_CAMERA_USE_I2C1                |配置是否使用I2C1通信    |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+
|CONFIG_AUDIO                          |配置是否支持audio功能   |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+
|CONFIG_LCD                            |配置是否支持LCD功能     |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+
|CONFIG_USB_UVC                        |配置是否支持uvc camera  |``middleware\soc\bk7256\bk7256.defconfig``  |    y    |
+--------------------------------------+------------------------+--------------------------------------------+---------+

4 演示介绍
-------------------------------------
demo执行的步骤如下：

1、准备好dvp摄像头或者UVC摄像头，LCD屏幕（rgb或者8080;

2、起一个softap;

ap doorbell_test 1234567890

3、手机连接这个ap

4、发送doorbell命令:

如果是dvp，发送：doorbell

如果是uvc，发送：doorbell 3 1

5、手机app(RealtimeVideo)上设置-->右上角(三条横线设置)-->Setting-->Demos Solution(doorbell)-->右上角(三条横线设置)-->Video-->右下角风车按钮(第一个是视频开关，第二个是语音开关)

6、如果需要显示到LCD屏幕上

media lcd open