SPI
================

:link_to_translation:`en:[English]`

SPI API Status
------------------

+--------------------------------------------+---------+---------+--------+--------+--------+
| API                                        | BK7231N | BK7231U | BK7251 | BK7271 | BK7236 |
+============================================+=========+=========+========+========+========+
| :cpp:func:`bk_spi_driver_init`             | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_driver_deinit`           | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_init`                    | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_deinit`                  | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_set_mode`                | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_set_bit_width`           | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_set_wire_mode`           | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_set_baud_rate`           | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_set_bit_order`           | Y       | Y       | N      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_register_rx_isr`         | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_register_tx_finish_isr`  | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_write_bytes`             | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_read_bytes`              | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_transmit`                | Y       | Y       | Y      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_dma_write_bytes`         | Y       | Y       | N      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_dma_read_bytes`          | Y       | Y       | N      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+
| :cpp:func:`bk_spi_dma_transmit`            | Y       | Y       | N      | Y      | Y      |
+--------------------------------------------+---------+---------+--------+--------+--------+

SPI UNIT Number
------------------------

+-------------+---------+--------+---------+--------+--------+
| Capability  | BK7231N | BK7236 | BK7231U | BK7251 | BK7271 |
+=============+=========+========+=========+========+========+
| UNIT Number | 1       | 1      | 1       | 1      | 3      |
+-------------+---------+--------+---------+--------+--------+

SPI Pin and GPIO Map
---------------------------------

+-----------+---------+--------+---------+--------+--------+
| SPI Pin   | BK7231N | BK7236 | BK7231U | BK7251 | BK7271 |
+===========+=========+========+=========+========+========+
| SPI0 CS   | 15      | 15     | 15      | 15     | 2      |
+-----------+---------+--------+---------+--------+--------+
| SPI0 SCK  | 14      | 14     | 14      | 14     | 3      |
+-----------+---------+--------+---------+--------+--------+
| SPI0 MOSI | 16      | 16     | 16      | 16     | 4      |
+-----------+---------+--------+---------+--------+--------+
| SPI0 MOSI | 17      | 17     | 17      | 17     | 5      |
+-----------+---------+--------+---------+--------+--------+
| SPI1 CS   |         |        |         |        | 22     |
+-----------+---------+--------+---------+--------+--------+
| SPI1 SCK  |         |        |         |        | 23     |
+-----------+---------+--------+---------+--------+--------+
| SPI1 MOSI |         |        |         |        | 24     |
+-----------+---------+--------+---------+--------+--------+
| SPI1 MOSI |         |        |         |        | 25     |
+-----------+---------+--------+---------+--------+--------+
| SPI2 CS   |         |        |         |        | 36     |
+-----------+---------+--------+---------+--------+--------+
| SPI2 SCK  |         |        |         |        | 37     |
+-----------+---------+--------+---------+--------+--------+
| SPI2 MOSI |         |        |         |        | 38     |
+-----------+---------+--------+---------+--------+--------+
| SPI2 MOSI |         |        |         |        | 39     |
+-----------+---------+--------+---------+--------+--------+

SPI API Reference
---------------------

.. include:: ../../_build/inc/bk_api_spi.inc

SPI API Typedefs
---------------------
.. include:: ../../_build/inc/bk_api_spi_types.inc


